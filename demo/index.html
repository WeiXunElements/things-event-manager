<!--
@license
Copyright Â© 2015-2021 Shenzhen Weixun All rights reserved.
-->
<!DOCTYPE html>
<html>
  <head>
    <title>iron-signals demo</title>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes" />

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="../../paper-styles/demo-pages.html" />
    <link rel="import" href="../things-event-manager.html" />
  </head>
  <body>
    <div class="vertical-section vertical-section-container centered">
      <h1>&lt;iron-signal&gt;</h1>
      <template is="dom-bind" id="my-app">
        <things-event-manager events='[{"name": "foo","function":"showFoo"}]'> </things-event-manager>
      </template>

      <template is="dom-bind" id="event-message">
        <template is="dom-if" if="{{detail}}">
          <div><code>my-app</code> got a <code>{{detail}}</code> event massage</div>
        </template>
      </template>
    </div>

    <script>
      var app = document.querySelector('#my-app');

      document.addEventListener('WebComponentsReady', function () {
        document.querySelector('#my-app').fire('iron-signal', { name: 'foo', data: 'Foo!' });
      });

      app.showFoo = function (e) {
        document.querySelector('#event-message').detail = e.detail;
      };
    </script>
  </body>
</html>
